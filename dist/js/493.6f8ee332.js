"use strict";(self["webpackChunkboard_housedeal_todolist"]=self["webpackChunkboard_housedeal_todolist"]||[]).push([[493],{3493:function(t,e,s){s.r(e),s.d(e,{default:function(){return b}});var i=function(){var t=this,e=t._self._c;return t.users&&0!=t.users.length?e("b-container",{staticClass:"bv-example-row"},[e("div",{attrs:{id:"searchbar"}},[e("b-button",{staticClass:"float-right ml-2",attrs:{variant:"primary"},on:{click:t.searchUser}},[t._v("검색")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"float-right m-1",attrs:{type:"text",id:"searchbarInput"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"float-right m-2",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?s:s[0]}}},[e("option",[t._v("사용자명")]),e("option",[t._v("아이디")]),e("option",[t._v("이메일")])])],1),e("b-table-simple",{attrs:{hover:"",responsive:""}},[e("tbody",[e("b-tr",[e("b-th",{staticClass:"text-center p-2 bg-light",staticStyle:{width:"15%"}},[t._v("사용자명")]),e("b-th",{staticClass:"text-center p-2 bg-light",staticStyle:{width:"15%"}},[t._v("아이디")]),e("b-th",{staticClass:"text-center p-2 bg-light",staticStyle:{width:"15%"}},[t._v("비밀번호")]),e("b-th",{staticClass:"text-center p-2 bg-light",staticStyle:{width:"15%"}},[t._v("이메일")]),e("b-th",{staticClass:"text-center p-2 bg-light",staticStyle:{width:"6%"}}),e("b-th",{staticClass:"text-center p-2 bg-light",staticStyle:{width:"6%"}})],1),t._l(t.users,(function(s){return e("user-list-item",t._b({key:s.userid,on:{userModify:t.userListModify,userDelete:t.userListDelete}},"user-list-item",s,!1))}))],2)])],1):e("b-container",{staticClass:"bv-example mt-3"},[e("b-row",[e("b-col",[e("b-alert",{attrs:{show:""}},[t._v("사용자 목록이 없습니다.")])],1)],1)],1)},a=[],r=function(){var t=this,e=t._self._c;return e("b-container",{staticClass:"bv-example-row"},[t.isModify?e("b-tr",{staticClass:"myrow"},[e("b-th",{staticClass:"bg-light p-2 text-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.username2,expression:"username2"}],attrs:{type:"text"},domProps:{value:t.username2},on:{input:function(e){e.target.composing||(t.username2=e.target.value)}}})]),e("b-th",{staticClass:"bg-light p-2 text-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userid2,expression:"userid2"}],attrs:{type:"text"},domProps:{value:t.userid2},on:{input:function(e){e.target.composing||(t.userid2=e.target.value)}}})]),e("b-th",{staticClass:"bg-light p-2 text-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userpwd2,expression:"userpwd2"}],attrs:{type:"text"},domProps:{value:t.userpwd2},on:{input:function(e){e.target.composing||(t.userpwd2=e.target.value)}}})]),e("b-th",{staticClass:"bg-light p-2 text-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email2,expression:"email2"}],attrs:{type:"text"},domProps:{value:t.email2},on:{input:function(e){e.target.composing||(t.email2=e.target.value)}}})]),e("b-th",{staticClass:"bg-light pl-0 pr-0 pt-auto text-center"},[e("b-button",{staticClass:"bg-light",attrs:{variant:"primary"},on:{click:t.userModify}},[t._v("수정")])],1),e("b-th",{staticClass:"bg-light pl-0 pr-0 pt-auto text-center"},[e("b-button",{staticClass:"bg-light",attrs:{variant:"danger"},on:{click:t.closeModify}},[t._v("취소")])],1)],1):e("b-tr",{staticClass:"myrow"},[e("b-td",{staticClass:"bg-light p-2"},[t._v(" "+t._s(t.username)+" ")]),e("b-td",{staticClass:"bg-light p-2"},[t._v(" "+t._s(t.userid)+" ")]),e("b-th",{staticClass:"bg-light p-2"},[t._v(" "+t._s(t.userpwd)+" ")]),e("b-th",{staticClass:"bg-light p-2"},[t._v(" "+t._s(t.email)+" ")]),e("b-th",{staticClass:"bg-light pl-0 pr-0 pt-auto text-center"},[e("b-button",{staticClass:"bg-light",attrs:{variant:"outline-primary"},on:{click:t.viewModify}},[t._v("수정")])],1),e("b-th",{staticClass:"bg-light pl-0 pr-0 pt-auto text-center"},[e("b-button",{staticClass:"bg-light",attrs:{variant:"outline-danger"},on:{click:t.userDelete}},[t._v("삭제")])],1)],1)],1)},l=[],o=s(6633),n={props:{username:String,userid:String,userpwd:String,email:String},data(){return{isModify:!1,userid2:"",username2:"",userpwd2:"",email2:""}},methods:{viewModify(){console.log("viewModify"),this.userid2=this.userid,this.username2=this.username,this.userpwd2=this.userpwd,this.email2=this.email,this.isModify=!0},closeModify(){console.log("closeModify"),this.isModify=!1},userModify(){console.log("userModify"),console.log(this.userid2),console.log(this.username2),console.log(this.userpwd2),o.Z.put("/admin/user",{userid:this.userid2,username:this.username2,userpwd:this.userpwd2,email:this.email2}).then((()=>{this.$emit("userModify",this.userid2,this.username2,this.userpwd2,this.email2),this.isModify=!1}))},userDelete(){console.log("userDelete"),"admin"!=this.userid?o.Z["delete"]("/admin/user/"+this.userid,{userid:this.userid}).then((()=>{this.$emit("userDelete",this.userid)})):alert("관리자는 삭제할 수 없습니다.")}}},u=n,c=s(1001),d=(0,c.Z)(u,r,l,!1,null,"dcb67bf6",null),h=d.exports,p={name:"UserList",components:{UserListItem:h},data(){return{users:[],search:[],selected:""}},created(){o.Z.get("/admin/user").then((({data:t})=>{this.users=t}))},methods:{userListModify(t,e,s,i){this.users.forEach((a=>{a.userid==t&&(a.username=e,a.userpwd=s,a.email=i)}))},userListDelete(t){this.users=this.users.filter((e=>e.userid!=t))},searchUser(){console.log(this.selected),""!=this.selected?o.Z.get("/admin/searchUser",{params:{selected:this.selected,search:this.search}}).then((({data:t})=>{console.log(t),t.length>0?this.users=t:alert("해당하는 결과가 없음")})):alert("검색 조건을 선택해주세요.")}}},m=p,g=(0,c.Z)(m,i,a,!1,null,null,null),b=g.exports}}]);
//# sourceMappingURL=493.6f8ee332.js.map